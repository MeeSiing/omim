# Extract OMIM Information

## Description
This is a one-off script to get more OMIM information for a set of OMIM identifiers queried out of Mondo and found in this [gSheet file](https://docs.google.com/spreadsheets/d/1tpDfHCembTPFos0omGQzA5RBnEx0fcRawB5rGiQdsc4/edit?gid=0#gid=0).

## Usage
To run the script, save your OMIM API Key in a file called `.env` formatted as `API_KEY=YOUR-API-KEY-VALUE`.

Run the script from this directory `omim/omim2obo/utils/omim_entry_gene_association_info` as:
`python extract_omim_information.py` 
NOTE: The input and output file names are hard coded so update as needed for your use case.

## Result File Description
The first columns are the same as from the gSheet file, e.g. mondo_id, mondo_label, xrefs, should have gene annotation.

The other columns are generated by the script.
- extracted_omim_curie - the OMIM CURIE found in the "xrefs" column in the input file
The following fields are extracted from the OMIM Web service response:
- phenotype - the phenotype name in OMIM
- omim_prefix - the OMIM prefix for the entry, `#`, `%`, etc. See https://omim.org/help/faq#1_3 for description of the prefix values.
- phenotypeMimNumber - the phenotype MIM number extracted from the query. This value should be the same number as found in the column extracted_omim_curie.
- omimURL - a clickable link back to the OMIM entry
- phenotypeMappingKey - the mapping key for the phenotype to gene relationship
- approvedGeneSymbols - the approved gene symbol
- hgncID - the HGNC identifier if present in the web service response
- textSectionContent - the first Text section in the OMIM entry page

NOTES: 
- There is one row in the result file for each row seen in the Phenotype-Gene Relationship table in OMIM. 
- For OMIM entries that _do not_ have the prefix `#` only minimal information is included in the file. 

### Example output file:
```
mondo_id	mondo_label	xrefs	should have gene annotation	extracted_omim_curie	phenotype	omim_prefix	phenotypeMimNumber	omimURL	phenotypeMappingKey	approvedGeneSymbols	hgncID	textSectionContent
MONDO:0011242	Bartter disease type 4A	SCTID:717791000, UMLS:C1865270, DOID:0110145, GARD:15348, ICD10CM:E26.8, Orphanet:112, MEDGEN:355430, Orphanet:89938, OMIM:602522"	yes	OMIM:602522	Sensorineural deafness with mild renal dysfunction	#	602522	https://omim.org/entry/602522	3	BSND		A number sign (#) is used with this entry because of evidence that neonatal Bartter syndrome type 4A with sensorineural deafness (BARTS4A) is caused by homozygous or compound heterozygous mutation in the BSND gene ({606412}) on chromosome 1p32.
MONDO:0011242	Bartter disease type 4A	SCTID:717791000, UMLS:C1865270, DOID:0110145, GARD:15348, ICD10CM:E26.8, Orphanet:112, MEDGEN:355430, Orphanet:89938, OMIM:602522"	yes	OMIM:602522	Bartter syndrome, type 4a	#	602522	https://omim.org/entry/602522	3	BSND		A number sign (#) is used with this entry because of evidence that neonatal Bartter syndrome type 4A with sensorineural deafness (BARTS4A) is caused by homozygous or compound heterozygous mutation in the BSND gene ({606412}) on chromosome 1p32.
MONDO:0014498	familial cold autoinflammatory syndrome 4	OMIM:616115, Orphanet:576349, UMLS:C4015276, Orphanet:47045, ICD10CM:L50.2, DOID:0090065, MEDGEN:863713, GARD:16061"	yes	OMIM:616115	?Familial cold autoinflammatory syndrome 4	#	616115	https://omim.org/entry/616115	3	NLRC4		A number sign (#) is used with this entry because of evidence that familial cold autoinflammatory syndrome-4 (FCAS4) is caused by heterozygous mutation in the NLRC4 gene ({606831}) on chromosome 2p22. One such family has been reported.
MONDO:0012446	seborrhea-like dermatitis with psoriasiform elements	GARD:17039, UMLS:C1853258, MESH:C565217, Orphanet:168606, MEDGEN:342832, OMIM:610227"	yes	OMIM:610227	?Seborrhea-like dermatitis with psoriasiform elements	#	610227	https://omim.org/entry/610227	3	ZNF750		A number sign (#) is used with this entry because of evidence that seborrhea-like dermatitis with psoriasiform elements is caused by heterozygous mutation in the ZNF750 gene ({610226}) gene on chromosome 17q25. One such family has been reported.
MONDO:0007336	isolated cleft palate	DOID:0110213, UMLS:C1837218, MEDGEN:332392, ICD10CM:Q35.7, ICD10CM:Q35.5, GARD:1896, ICD10CM:Q35.9, OMIM:119540, ICD10CM:Q35.1, Orphanet:2014, ICD10CM:Q35.3"	no	OMIM:119540		%						
MONDO:0010333	corpus callosum agenesis-intellectual disability-coloboma-micrognathia syndrome	Orphanet:52055, ICD10CM:Q87.8, UMLS:C1845446, MEDGEN:335185, DOID:0060816, OMIM:300472, SCTID:722282008, MESH:C564509, GARD:12486"	yes	OMIM:300472	?Corpus callosum, agenesis of, with impaired intellectual development, ocular coloboma and micrognathia	#	300472	https://omim.org/entry/300472	3	IGBP1		A number sign (#) is used with this entry because agenesis of the corpus callosum with impaired intellectual development, ocular coloboma, and micrognathia is caused by mutation in the IGBP1 gene ({300139}). One such family has been reported.
```
